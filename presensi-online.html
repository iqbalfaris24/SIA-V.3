<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="stylesheet" href="css/scss/style.css" />
   <link rel="stylesheet" href="utilities/Icons/fontawesome-free-6.3.0-web/css/all.css" />
   <link rel="stylesheet" href="utilities/Icons/bootstrap-icons-1.9.0/bootstrap-icons.css" />
   <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
   <script src="utilities/Icons/feather.min.js"></script>
   <title>Admin</title>
</head>

<body>
   <!-- Navigasi -->
   <nav>
      <div class="menu">
         <button class="btn-menu menu-button-lg">
            <i data-feather="menu"></i>
         </button>
         <div class="menu-button-sm">
            <div class="cross menu--1">
               <label>
                  <input type="checkbox" class="btn-menu-check">
                  <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                     <path class="line--1" d="M0 40h62c13 0 6 28-4 18L35 35" />
                     <path class="line--2" d="M0 50h70" />
                     <path class="line--3" d="M0 60h62c13 0 6-28-4-18L35 65" />
                  </svg>
               </label>
            </div>
         </div>
         <h4>Universitas Bhayangkara Jakarta Raya</h4>
      </div>

      <div class="brand">
         <a href="">

            <i class="fa-solid fa-graduation-cap"></i>
            <h1>SIA</h1>
         </a>
      </div>

      <div class="dropdown">
         <button class="user">
            <img class="user__img" src="img/person.png" alt="" />
            <span class="user__name">IQBAL FARIS AKBAR</span>
            <i data-feather="chevron-down" class="chevron-up"></i>
            <i data-feather="chevron-up" class="chevron-down d-none"></i>
         </button>
         <div class="dropdown-content">
            <a href="#">
               <i data-feather="settings"></i>
               <span>Profile</span>
            </a>
            <a href="#">
               <i data-feather="log-out"></i>
               <span>Logout</span>
            </a>
         </div>
      </div>
   </nav>
   <!-- End Of Navigasi -->

   <!-- Sidebar Section -->
   <div class="sidebar sidebar--show">
      <!-- Sidebar -->
      <aside class="sidebar__sidebar">
         <div class="sidebar-content" data-aos="fade-right">
            <div class="sidebar-nav-top">
               <div class="semester">
                  <i class="fa-solid fa-calendar-days"></i>
                  <span>2022/2023 Genap</span>
               </div>
               <div class="dark-light-button">
                  <label for="theme-toggle" class="theme-toggle">
                     <input type="checkbox" id="theme-toggle" class="theme-toggle__input">
                     <span class="theme-toggle__slider"></span>
                  </label>
               </div>
            </div>
            <div class="sidebar-nav-bottom">
               <div class="sidebar-item">
                  <a href="index.html" class="active">
                     <i class="fa-solid fa-house"></i>
                     <span>Dashboard</span>
                  </a>
               </div>

               <div class="sidebar-item">
                  <a href="krs.html" class="">
                     <i class="fa-solid fa-book-bookmark"></i>
                     <span>KRS</span>
                  </a>
               </div>

               <div class="sidebar-item accordion-item">
                  <div class="accordion-header " data-id="1">
                     <i class="fa-solid fa-folder-open"></i>
                     <span>Perkuliahan</span>
                     <i id="chevron1" class="fa-solid fa-chevron-right"></i>
                  </div>
                  <ul class="accordion-content">
                     <li class=""><a href="jadwal-kuliah.html"><i class="bi bi-arrow-right"></i>Jadwal Kuliah</a></li>
                     <li class=""><a href="jadwal-uas.html"><i class="bi bi-arrow-right"></i>Jadwal UAS</a></li>
                     <li class=""><a href="nilai-uts.html"><i class="bi bi-arrow-right"></i>Nilai UTS</a></li>
                     <li class=""><a href="krs-full.html"><i class="bi bi-arrow-right"></i>KRS</a></li>
                     <li class=""><a href="khs.html"><i class="bi bi-arrow-right "></i>KHS</a></li>
                     <li class=""><a href="presensi.html"><i class="bi bi-arrow-right"></i>Presensi</a></li>
                     <li class=""><a href="transkrip.html"><i class="bi bi-arrow-right"></i>transkrip</a></li>
                     <li class="d-none"><a href="kelas-online.html"><i class="bi bi-arrow-right"></i>Kelas Online</a>
                     </li>
                     <li class=""><a href="kerja-praktik.html"><i class="bi bi-arrow-right"></i>Kerja Praktek</a></li>
                     <li class=""><a href="tugas-akhir.html"><i class="bi bi-arrow-right"></i>Tugas Akhir</a></li>
                     <li class="d-none"><a href="kampus-merdeka.html"><i class="bi bi-arrow-right"></i>Kampus
                           Merdeka</a></li>
                  </ul>
               </div>

               <div class="sidebar-item accordion-item">
                  <div class="accordion-header active" data-id="2">
                     <i class="fa-solid fa-money-bill-wave"></i>
                     <span>Administrasi</span>
                     <i id="chevron2" class="fa-solid fa-chevron-right"></i>
                  </div>
                  <ul class="accordion-content">
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Cara Pembayaran</a></li>
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Tagihan</a></li>
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Pengajuan Pembayaran</a></li>
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Cuti Akademik</a></li>
                  </ul>
               </div>

               <div class="sidebar-item accordion-item">
                  <div class="accordion-header active" data-id="3">
                     <i class="fa-solid fa-cubes"></i>
                     <span>Penilaian Kinerja</span>
                     <i id="chevron3" class="fa-solid fa-chevron-right"></i>
                  </div>
                  <ul class="accordion-content">
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Penilaian Kinerja Unit</a></li>
                     <li><a href=""><i class="bi bi-arrow-return-right"></i>Penilaian Kinerja Dosen</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </aside>

      <!-- Main -->
      <main class="sidebar__main presensi-online">
         <h2 data-aos="fade-left">Input Presensi Online</h2>
         <div class="card" data-aos="fade-left">
            <div class="card-item">
               <h3>Nama :</h3>
               <input type="text" placeholder="IQBAL FARIS AKBAR" name="inputName" disabled>
            </div>
            <div class="card-item">
               <h3>NPM :</h3>
               <input type="text" placeholder="202010225175" name="inputName" disabled>
            </div>
            <div class="card-item">
               <h3>Status :</h3>
               <div class="select-wrapper">
                  <select class="select">
                     <option value="option1">Hadir</option>
                     <option value="option1">Sakit</option>
                     <option value="option1">Izin</option>
                  </select>
               </div>
            </div>
            <div class="card-item">
               <h3>kode Presensi :</h3>
               <input type="number" placeholder="" name="kode-presensi">
            </div>
            <div class="card-item">
               <h3>Keterangan :</h3>
               <textarea id="ket" name="ket"></textarea>
            </div>
            <div class="card-item">
               <h1>Presensi</h1>
               <button onclick="getLocation()">Absen</button>
               <div id="map" style="height: 400px; width: 100%;"></div>
               <script
                  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEOSKaLuOCRmV8OU2tZ2KFDg5uR9rXcHA"></script>

               <script>
                  function initMap() {
                     // Membuat peta
                     const map = new google.maps.Map(document.getElementById("map"), {
                        // Koordinat default
                        zoom: 12, // Zoom default
                     });

                     // Mendapatkan lokasi pengunjung
                     if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(
                           (position) => {
                              const userLocation = {
                                 lat: position.coords.latitude,
                                 lng: position.coords.longitude,
                              };

                              // Menambahkan marker pada lokasi pengunjung
                              new google.maps.Marker({
                                 position: userLocation,
                                 map: map,
                                 title: "Lokasi Anda",
                              });

                              // Mengatur tampilan peta agar terfokus pada lokasi pengunjung
                              map.setCenter(userLocation);
                              map.setZoom(15);
                           },
                           () => {
                              // Apabila geolocation gagal, tampilkan peta dengan koordinat default
                              console.log("Gagal mendapatkan lokasi pengunjung.");
                           }
                        );
                     } else {
                        // Apabila browser tidak mendukung geolocation, tampilkan peta dengan koordinat default
                        console.log("Browser tidak mendukung geolocation.");
                     }
                  }
                  // Mendapatkan lokasi user
                  if (navigator.geolocation) {
                     navigator.geolocation.getCurrentPosition(showPosition);
                  } else {
                     alert("Geolocation tidak didukung oleh browser Anda");
                  }

                  function showPosition(position) {
                     const lat = position.coords.latitude;
                     const lng = position.coords.longitude;

                     // Menampilkan peta dan titik GPS
                     const map = new google.maps.Map(document.getElementById("map"), {
                        center: { lat, lng },
                        zoom: 16,
                     });
                     const marker = new google.maps.Marker({
                        position: { lat, lng },
                        map: map,
                     });
                  }

               </script>
            </div>
         </div>
      </main>
   </div>
   <!-- End Of Sidebar Section -->

   <script>
      // Theme Toogle
      function toggleTheme() {
         const themeToggle = document.getElementById('theme-toggle');
         const setTheme = (theme) => {
            document.documentElement.setAttribute('data-theme', theme);
            themeToggle.checked = theme === 'dark';
            document.body.classList.toggle('light-mode', theme === 'dark');
            localStorage.setItem('theme', theme);
         };
         themeToggle.addEventListener('change', () => setTheme(themeToggle.checked ? 'dark' : 'light'));
         setTheme(localStorage.getItem('theme') || 'light');
      }
      toggleTheme();

      // Sidebar Button
      function ButtonSidebar() {
         feather.replace();
         const btnMenu = document.querySelector(".btn-menu");
         const btnMenuC = document.querySelector(".btn-menu-check");
         const sidebar = document.querySelector(".sidebar");

         btnMenu.addEventListener("click", function () {
            sidebar.classList.toggle("sidebar--show");
         });
         btnMenuC.addEventListener("click", function () {
            sidebar.classList.toggle("sidebar--show");
         });
      }
      ButtonSidebar();

      // User Dropdown
      function DrowdownUser() {
         const button = document.querySelector(".dropdown");
         const chevronUp = document.querySelector(".chevron-up");
         const chevronDown = document.querySelector(".chevron-down");

         button.addEventListener("mouseenter", () => {
            chevronUp.classList.add("d-none");
            chevronDown.classList.remove("d-none");
         });

         button.addEventListener("mouseleave", () => {
            chevronUp.classList.remove("d-none");
            chevronDown.classList.add("d-none");
         });
      }
      DrowdownUser();

      // Accordion
      function toggleAccordion() {
         this.classList.toggle('active');
         const accordionContent = this.nextElementSibling;
         const chevronIcon = document.getElementById(`chevron${this.getAttribute('data-id')}`);

         // Cek apakah accordion-content sedang terbuka
         if (accordionContent.style.maxHeight) {
            // Jika iya, maka accordion-content ditutup
            accordionContent.style.maxHeight = null;
            chevronIcon.classList.replace('fa-chevron-down', 'fa-chevron-right');
         } else {
            // Jika tidak, maka accordion-content dibuka dan accordion lainnya ditutup
            const accordions = document.querySelectorAll('.accordion-content');
            accordions.forEach(acc => {
               acc.style.maxHeight = null;
               acc.previousElementSibling.classList.remove('active');
               const otherChevronIcon = document.getElementById(`chevron${acc.previousElementSibling.getAttribute('data-id')}`);
               otherChevronIcon.classList.replace('fa-chevron-down', 'fa-chevron-right');
            });

            // Set maxHeight pada accordion-content agar bisa dibuka
            accordionContent.style.maxHeight = `${accordionContent.scrollHeight}px`;
            chevronIcon.classList.replace('fa-chevron-right', 'fa-chevron-down');
         }
      }

      function addAccordionEventListeners() {
         const accordionHeaders = document.querySelectorAll('.accordion-header');

         accordionHeaders.forEach(header => {
            header.addEventListener('click', toggleAccordion);
         });
      }
      addAccordionEventListeners();

      // Table Auta Numbering
      function TableNumber() {
         var table = document.getElementById("myTable");
         var rows = table.getElementsByClassName("row");
         for (var i = 1; i < rows.length; i++) {
            rows[i].insertCell(0);
            rows[i].cells[0].innerHTML = i;
         }
      }
      TableNumber();

   </script>
   <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
   <script>
      AOS.init();
   </script>
</body>

</html>